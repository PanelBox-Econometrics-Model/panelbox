{% if model_info %}
<section class="report-section">
    <h3 class="section-subtitle">Model Information</h3>

    <div class="info-grid">
        {% if model_info.model_type %}
        <div class="info-item">
            <span class="info-label">Model Type:</span>
            <span class="info-value">{{ model_info.model_type }}</span>
        </div>
        {% endif %}

        {% if model_info.formula %}
        <div class="info-item">
            <span class="info-label">Formula:</span>
            <code class="info-value">{{ model_info.formula }}</code>
        </div>
        {% endif %}

        {% if model_info.nobs %}
        <div class="info-item">
            <span class="info-label">Observations:</span>
            <span class="info-value">{{ model_info.nobs_formatted or model_info.nobs }}</span>
        </div>
        {% endif %}

        {% if model_info.n_entities %}
        <div class="info-item">
            <span class="info-label">Entities:</span>
            <span class="info-value">{{ model_info.n_entities_formatted or model_info.n_entities }}</span>
        </div>
        {% endif %}

        {% if model_info.n_periods %}
        <div class="info-item">
            <span class="info-label">Time Periods:</span>
            <span class="info-value">{{ model_info.n_periods_formatted or model_info.n_periods }}</span>
        </div>
        {% endif %}

        {% if model_info.balanced %}
        <div class="info-item">
            <span class="info-label">Panel Type:</span>
            <span class="info-value">
                {% if model_info.balanced %}Balanced{% else %}Unbalanced{% endif %}
            </span>
        </div>
        {% endif %}
    </div>
</section>
{% endif %}

<section class="report-section mt-6">
    <h3 class="section-subtitle">Tests by Category</h3>

    <div class="grid grid-cols-2 gap-4">
        <!-- Specification Tests -->
        <div class="test-category-card">
            <h4 class="test-category-title">Specification Tests</h4>
            <div class="test-category-count">
                {{ summary.get('tests_failed', 0) }} /
                {{ summary.get('total_tests', 0) }} failed
            </div>
        </div>

        <!-- Serial Correlation Tests -->
        <div class="test-category-card">
            <h4 class="test-category-title">Serial Correlation</h4>
            <div class="test-category-count">
                Tests executed
            </div>
        </div>

        <!-- Heteroskedasticity Tests -->
        <div class="test-category-card">
            <h4 class="test-category-title">Heteroskedasticity</h4>
            <div class="test-category-count">
                Tests executed
            </div>
        </div>

        <!-- Cross-Sectional Dependence Tests -->
        <div class="test-category-card">
            <h4 class="test-category-title">Cross-Sectional Dependence</h4>
            <div class="test-category-count">
                Tests executed
            </div>
        </div>
    </div>
</section>

<section class="report-section mt-6">
    <h3 class="section-subtitle">Quick Summary</h3>

    {% if summary and summary.get('tests_failed', 0) > 0 %}
    <div class="summary-box summary-box-warning">
        <h4>Issues Detected</h4>
        <p>Your model has failed {{ summary.get('tests_failed', 0) }} validation test(s). Review the detailed results and recommendations to address these issues.</p>
    </div>
    {% else %}
    <div class="summary-box summary-box-success">
        <h4>Tests Completed</h4>
        <p>Validation tests have been executed. {{ summary.get('total_tests', 0) }} test(s) were run with {{ summary.get('tests_passed', 0) }} passing.</p>
    </div>
    {% endif %}
</section>
